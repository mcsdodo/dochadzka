<!doctype html>
<html lang="sk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dochádzka</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main>
    <div id="unsupported">Nepodporovaný prehliadač. Použite Chrome alebo Edge.</div>
    <div id="insecure" class="hidden">Aplikácia potrebuje bezpečný kontext (https:// alebo http://localhost), aby fungovalo uloženie prístupu k súboru a automatické pripojenie.</div>

    <div id="topbar" class="controls">
      <div class="view-tabs">
        <button id="tabDochadzka" class="active">Dochádzka</button>
        <button id="tabSC">Služobné cesty</button>
      </div>
      <button id="createBtn">Vytvoriť súbor</button>
      <button id="openBtn">Otvoriť súbor</button>
      <button id="reconnectBtn" class="ghost" title="Pripojiť posledný súbor">Pripojiť</button>
      <button id="signatureBtn" class="ghost" disabled>Nahrať podpis</button>
      <button id="printBtn" class="ghost" disabled>Tlačiť</button>
      <button id="editBtn" disabled>Upraviť</button>
      <span id="fileName" class="meta"></span>
    </div>

    <div id="dochadzkaView">
    <div id="monthNav" class="hidden">
      <button id="prevMonth" title="Predošlý mesiac">◀</button>
      <div id="monthLabel"></div>
      <button id="nextMonth" title="Nasledujúci mesiac">▶</button>
      <button id="newMonthBtn">+ Nový mesiac</button>
    </div>

    <section id="summary" class="hidden">
      <h1>Dochádzka - evidencia pracovného času zamestnanca</h1>
      <p class="meta-line">za mesiac: <span id="metaMonth"></span> | zamestnávateľ: <span id="metaEmployer"></span> | zamestnanec: <span id="metaEmployee"></span></p>
    </section>

    <table id="attendanceTable" class="hidden">
      <thead>
        <tr>
          <th>Dátum</th>
          <th>Príchod</th>
          <th colspan="2">Prestávka</th>
          <th>Odchod</th>
          <th>Počet hodín</th>
        </tr>
        <tr class="meta">
          <th></th>
          <th></th>
          <th>Odchod</th>
          <th>Príchod</th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tbody id="tableBody"></tbody>
      <tfoot>
        <tr>
          <td style="font-weight: 600;">SPOLU</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td id="totalValue" style="font-weight: 600;">0</td>
        </tr>
      </tfoot>
    </table>

    <div class="legend hidden" id="legend">
      D - dovolenka, SC - služobná cesta, PN - práceneschopnosť, O - OČR, IN - iná neprítomnosť<br />
      Prestávka* - prestávka na odpočinok a jedenie §91 ZP, alebo iná prestávka §170 ZP<br/><br/>
      <span class="screen-only">Modré zvýraznenie = víkend, žlté zvýraznenie = sviatok (len na obrazovke, v tlači sa nezobrazuje)<br /></span>
    </div>

    <div class="signature hidden" id="signatureBlock">
      <span>Podpis:</span>
      <img id="signatureImg" alt="Podpis" />
    </div>
    </div><!-- /dochadzkaView -->

    <div id="scView" class="sc-view hidden">
      <div id="tripNav" class="hidden">
        <button id="prevTrip">◀</button>
        <div id="tripLabel"></div>
        <button id="nextTrip">▶</button>
      </div>

      <div id="tripList" class="trip-list"></div>

      <div id="tripControls" class="trip-controls hidden">
        <label>Odchod: <input type="time" id="tripStartTime" /></label>
        <label>Príchod: <input type="time" id="tripEndTime" /></label>
        <label>KM: <input type="number" id="tripKm" style="width:60px" /></label>
      </div>

      <div id="scDocuments" class="hidden">
        <div id="cestovnyPrikaz" class="document-container"></div>
        <div id="vyuctovanie" class="document-container"></div>
      </div>
    </div>
  </main>

  <script src="app.js"></script>
</body>
</html>
